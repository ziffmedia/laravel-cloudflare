(()=>{"use strict";var e={262:(e,t)=>{t.A=(e,t)=>{const r=e.__vccOpts||e;for(const[e,o]of t)r[e]=o;return r}}},t={};const r=Vue;var o=[(0,r.createElementVNode)("path",{fill:"currentColor",d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},null,-1)],s=[(0,r.createElementVNode)("path",{fill:"currentColor",d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},null,-1)],n=[(0,r.createElementVNode)("path",{fill:"currentColor",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"},null,-1)],l={key:0,class:"ml-8"};const a={props:{buttonType:{type:String,default:"default"},label:{type:String,default:"Clear Cache"},notifications:{type:Boolean,default:!0},tags:{type:Array,default:function(){return[]}},urls:{type:Array,default:function(){return[]}}},data:function(){return{isLoading:!1,isSuccess:!1,isError:!1,resetTimeout:6e3}},computed:{buttonClasses:function(){return"primary"===this.buttonType?"btn-primary":"bg-white font-normal border-60 text-80 hover:bg-40 hover:border-70"}},methods:{purgeCache:function(){if(!this.isLoading&&(this.urls.length||this.tags.length)){var e=this,t={urls:this.urls,tags:this.tags};this.isLoading=!0,this.isSuccess=!1,this.isError=!1,Nova.request().post("/nova-vendor/laravel-cloudflare/purge",t).then((function(t){t.data?e.purgeSuccess(t.data):e.purgeError("Invalid Server Response"),e.isLoading=!1})).catch((function(t){e.isLoading=!1}))}},purgeSuccess:function(e){var t=this;this.isSuccess=!0,this.showNotification("Cache cleared successfully!","success"),this.$emit("purgeSuccess",e),setTimeout((function(){return t.reset()}),this.resetTimeout)},purgeError:function(e){var t=this;this.isError=!0,this.showNotification(e,"error"),this.$emit("purgeError",e),setTimeout((function(){return t.reset()}),this.resetTimeout)},showNotification:function(e,t){this.notifications&&Nova.success(e,{type:t})},reset:function(){this.isError=!1,this.isLoading=!1,this.isSuccess=!1,this.$refs.button.blur(),this.$emit("purgeReset",!0)}}};var c=function r(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}(262);const i=(0,c.A)(a,[["render",function(e,t,a,c,i,u){return(0,r.openBlock)(),(0,r.createElementBlock)("button",{ref:"button",onClick:t[0]||(t[0]=(0,r.withModifiers)((function(){return u.purgeCache&&u.purgeCache.apply(u,arguments)}),["prevent"])),class:(0,r.normalizeClass)(["relative btn px-4 border btn-default",u.buttonClasses]),style:{"min-width":"200px"}},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["absolute h-6","default"===a.buttonType?"text-70":""]),style:{top:"5px"}},[e.isSuccess?((0,r.openBlock)(),(0,r.createElementBlock)("svg",{key:0,class:(0,r.normalizeClass)(["h-5","default"===a.buttonType?"text-success":""]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o,2)):e.isError?((0,r.openBlock)(),(0,r.createElementBlock)("svg",{key:1,class:(0,r.normalizeClass)(["h-5","default"===a.buttonType?"text-error":""]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},s,2)):((0,r.openBlock)(),(0,r.createElementBlock)("svg",{key:2,class:(0,r.normalizeClass)(["h-6",e.isLoading?"animate-rotation":""]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n,2))],2),a.label?((0,r.openBlock)(),(0,r.createElementBlock)("span",l,(0,r.toDisplayString)(a.label),1)):(0,r.createCommentVNode)("",!0)],2)}]]),u={components:{"clear-cache-button":i},props:["field"]},p=(0,c.A)(u,[["render",function(e,t,o,s,n,l){var a=(0,r.resolveComponent)("clear-cache-button");return(0,r.openBlock)(),(0,r.createBlock)(a,{label:"",urls:o.field.urls,tags:o.field.tags},null,8,["urls","tags"])}]]);var d={slot:"value"};const f={components:{"clear-cache-button":i},props:["field"]},h=(0,c.A)(f,[["render",function(e,t,o,s,n,l){var a=(0,r.resolveComponent)("clear-cache-button"),c=(0,r.resolveComponent)("panel-item");return(0,r.openBlock)(),(0,r.createBlock)(c,{field:o.field},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("template",d,[(0,r.createVNode)(a,{urls:o.field.urls,tags:o.field.tags},null,8,["urls","tags"])])]})),_:1},8,["field"])}]]);var m={slot:"field"};const g={components:{"clear-cache-button":i},props:["field"]},v=(0,c.A)(g,[["render",function(e,t,o,s,n,l){var a=(0,r.resolveComponent)("clear-cache-button"),c=(0,r.resolveComponent)("default-field");return(0,r.openBlock)(),(0,r.createBlock)(c,{field:o.field},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("template",m,[(0,r.createVNode)(a,{urls:o.field.urls,tags:o.field.tags},null,8,["urls","tags"])])]})),_:1},8,["field"])}]]);Nova.booting((function(e,t){e.component("index-cache-clear",p),e.component("detail-cache-clear",h),e.component("form-cache-clear",v)}))})();